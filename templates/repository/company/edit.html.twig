{% extends 'base.html.twig' %}

{% block title %}Company | Edit{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-md-12">
            <div class="panel">
                <div class="panel-content">
                    <div class="row">

                        <div class="col-12">
                            <h1>Welcome</h1>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequuntur culpa
                                delectus
                                eos, minus nemo neque obcaecati placeat quam quisquam ullam?
                            </p>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="col-12">
            <div class="panel">
                <div class="panel-content">
                    <form class="row"
                          action="{{ path('repository_company_repository_company_edit' , {id:company.companyID}) }}"
                          method="post">
                        <div class="col-3">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">Name</span>

                                <div class="col-md-12">
                                    <input type="text" name="companyName"
                                           value="{{ company.companyName }}"
                                           class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">National code</span>
                                <div class="col-md-12">
                                    <input type="text" name="companyNationalCode"
                                           value="{{ company.companyNationalCode }}"
                                           class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">Registration Code</span>

                                <div class="col-md-12">
                                    <input type="text" name="companyRegistrationCode"
                                           value="{{ company.companyRegistrationCode }}"
                                           class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">Economic Code</span>

                                <div class="col-md-12">
                                    <input type="text" name="companyEconomicCode"
                                           value="{{ company.companyEconomicCode }}"
                                           class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">Email</span>

                                <div class="col-md-12">
                                    <input type="text" name="companyEmail"
                                           value="{{ company.companyEmail }}"
                                           class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-group row">
                                <button type="submit" class="btn btn-block rounded btn-info mt-5"><i
                                            class="fa fa-save"></i></button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        {% for phone in phones %}
            <div class="col-3">
                <div class="panel">
                    <div class="panel-heading">
                        <strong>Phone</strong>
                    </div>
                    <div class="panel-content">
                        <form class="row"
                              action="{{ path('repository_company_repository_company_remove_phone' , {company_id:company.companyID , phone_id:phone.id}) }}"
                              method="post">
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-md-12 text-center">
                                        <h4><a href="tel:{{ phone.phone }}" class="btn-link"
                                               target="_blank">{{ phone.phone }}</a></h4>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <button type="submit" class="btn btn-block rounded btn-danger fa fa-trash"></button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        {% endfor %}

        <div class="col-3">
            <div class="panel">
                <div class="panel-heading">
                    <strong>Add New Phone</strong>
                </div>
                <div class="panel-content">
                    <form class="row"
                          action="{{ path('repository_company_repository_company_add_phone' , {company_id:company.companyID}) }}"
                          method="post">
                        <div class="col-12">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">Telephone</span>
                                <div class="col-md-12">
                                    <input type="text" name="phone"
                                           value=""
                                           class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-group">
                                <button type="submit" class="btn btn-block rounded btn-dark fa fa-save"></button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-12">
            <div class="panel">
                <div class="panel-content">
                    <div class="row flex-nowrap mx-0">
                        <!-- Tab Content Start -->
                        <div class="tab-content col">
                            <!-- Tab Pane Start -->
                            <div class="tab-pane fade show active" id="tab1">
                                <form class="form-group row"
                                      action="{{ path('repository_company_repository_company_add_employee' , {company_id:company.companyID}) }}"
                                      method="post">
                                    <div class="col-3"></div>
                                    <div class="col-md-4">
                                        <select name="employeeID"
                                                class="form-control">
                                            {% for person in persons %}
                                                <option value="{{ person.id }}">{{ person.humanName }} {{ person.humanFamily }} | {{ person.mobile }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <button type="submit"
                                                class="btn rounded btn-block btn-dark fa fa-save"></button>
                                    </div>
                                    <div class="col-3"></div>
                                </form>
                                <!---->
                                <div class="records--list">
                                    <table id="countriesList">
                                        <thead>
                                        <tr>
                                            <th>Global Token</th>
                                            <th>Name</th>
                                            <th>Mobile</th>
                                            <th>Email</th>
                                            <th>Groups</th>
                                            <th>Company</th>
                                            <th>Actions</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        {% for employee in employees %}
                                            <tr>
                                                <td>
                                                    <a href="#" class="btn-link">#315321</a>
                                                </td>
                                                <td>
                                                    {{ employee.humanName }} {{ employee.humanFamily }}
                                                </td>
                                                <td>
                                                    <a href="tel:{{ employee.mobile }}" class="btn-link"
                                                       target="_blank">{{ employee.mobile }}</a>
                                                </td>
                                                <td>
                                                    <a href="mailto:{{ employee.email }}"
                                                       class="btn-link">{{ employee.email }}</a>
                                                </td>
                                                <td>
                                                    {% for group in employee.groups %}
                                                        <span class="label label-info rounded">{{ group }}</span>
                                                    {% endfor %}
                                                </td>
                                                <td>
                                                    {% for company in employee.companies %}
                                                        <span class="label label-info rounded">{{ company }}</span>
                                                    {% endfor %}
                                                </td>
                                                <td>
                                                    <a href="{{ path('repository_company_repository_company_remove_employee', {company_id:company.companyID , employee_id:employee.id}) }}"
                                                       class="fa fa-trash"></a>
                                                    <a href="#" class="fa fa-eye"></a>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                            <!-- Tab Pane End -->
                        </div>
                        <!-- Tab Content End -->
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!--Address Panel-->
    <div class="row">
        <div class="col-12">
            <div class="panel">
                <div class="panel-heading">
                    Address
                </div>
                <div class="panel-content">
                    <form class="row" action="{{ path('repository_person_repository_person_update_address') }}"
                          method="post">
                        <input type="hidden" name="personId">
                        <div class="col-3">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">Country</span>

                                <div class="col-md-12">
                                    <select name="countryId" class="form-control">
                                        <option value="1">Iran</option>
                                        <option value="2">Italy</option>
                                        <option value="3">Iraq</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">Province</span>

                                <div class="col-md-12">
                                    <select name="provinceId" class="form-control">
                                        <option value="1">Tehran</option>
                                        <option value="2">Mashhad</option>
                                        <option value="3">Tabriz</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">City</span>

                                <div class="col-md-12">
                                    <select name="cityId" class="form-control">
                                        <option value="1">Tehran</option>
                                        <option value="2">Pardis</option>
                                        <option value="3">Rey</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">Districts</span>

                                <div class="col-md-12">
                                    <select name="districtId" class="form-control">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">Postal Code</span>

                                <div class="col-md-12">
                                    <input type="text" name="postalCode"
                                           placeholder="1254477788"
                                           class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">Address</span>
                                <div class="col-md-12">
                                    <input type="text" name="address"
                                           placeholder="Address"
                                           class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">Contac Person</span>
                                <div class="col-md-12">
                                    <select name="contactPersonId" class="form-control">
                                        <option value="" disabled>Name | Family | Mobile</option>
                                        <option value="">Amirhossein | Doulabi | 09122930611</option>
                                        <option value="">Amirhossein | Doulabi | 09122930611</option>
                                        <option value="">Amirhossein | Doulabi | 09122930611</option>
                                        <option value="">Amirhossein | Doulabi | 09122930611</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-group row">
                                <span class="label-text col-md-12 col-form-label ">Google Map</span>
                                <div class="col-md-12">
                                    <img src="../../images/matican_images/map.png" alt="" class="rounded">
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="row">
                                <div class="col-4"></div>
                                <div class="col-4">
                                    <button type="submit" class="btn btn-block btn-info rounded"><i
                                                class="fa fa-save"></i>
                                    </button>
                                </div>
                                <div class="col-4"></div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-group row">
                                {% for message in app.flashes('update_address_success') %}
                                    <div class="col-md-12 mt-3 text-green"><span
                                                class="fa fa-info text-green"></span> {{ message }}</div>
                                {% endfor %}
                                {% for message in app.flashes('update_address_failed') %}
                                    <div class="col-md-12 mt-3 text-red"><span
                                                class="fa fa-info text-red"></span> {{ message }}</div>
                                {% endfor %}
                            </div>
                        </div>
                    </form>
                </div>

                {% include 'repository/person/add-new-address.html.twig' %}
            </div>
        </div>
    </div>
    <!--Address Panel-->
{% endblock %}
