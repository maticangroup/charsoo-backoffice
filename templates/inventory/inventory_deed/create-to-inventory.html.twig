{% extends 'base.html.twig' %}

{% block title %}Inventory Deed | Create{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-10">
            <div class="panel">
                <div class="panel-content">
                    <div class="row">
                        <div class="col-5">
                            <h1>welcome section</h1>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores eligendi
                                est,
                                exercitationem nihil perspiciatis reprehenderit sit voluptas. Fugiat, placeat,
                                tenetur!
                            </p>
                        </div>
                        <div class="col-7">
                            <div class="row">
                                <div class="col-3">
                                    <span class="label-text col-form-label">From</span>
                                    <h4>None</h4>
                                </div>
                                <div class="col-3">
                                    <span class="label-text col-form-label">To</span>
                                    <h4>{{ deedModel.inventoryDeedToInventoryName }} {{ deedModel.inventoryDeedToShelveName }} {{ deedModel.inventoryDeedToQueueName }}</h4>
                                </div>
                                <div class="col-3">
                                    <span class="label-text col-form-label">Deed Name</span>
                                    <h4>{{ deedModel.inventoryDeedName }}</h4>
                                </div>
                                <div class="col-3">
                                    <span class="label-text col-form-label">Deed Serial</span>
                                    <h4>{{ deedModel.inventoryDeedSerial }}</h4>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="col-2">
            <div class="panel">
                <div class="weather--panel text-white bg-darker">
                    <div class="weather--title">
                        <i class="fa fa-info"></i>
                        <span>Confirmation</span>
                    </div>

                    <div class="weather--info">
                        <a href="{{ path('inventory_deed_inventory_deed_confirm' , {deed_id:deedModel.inventoryDeedId}) }}"
                           class="fa fa-check text-green"></a>
                    </div>
                </div>
            </div>
        </div>


        <div class="col-3"></div>
        <div class="col-6">
            <div class="panel">
                <div class="panel-heading"><strong>
                        Search & Add Item
                    </strong></div>
                <div class="panel-content">
                    <form class="row"
                          action="{{ path('inventory_deed_inventory_deed_create_to_inventory_deed' , {deed_id:deedModel.inventoryDeedId}) }}"
                          method="post">
                        <div class="col-10">
                            <select name="itemID" class="form-control">
                                {% for item in items %}
                                    <option value="{{ item.itemID }}">{{ item.itemName }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-2">
                            <button type="submit" class="btn btn-dark fa fa-save rounded btn-block"></button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-3"></div>

        {% if selectedItemModel %}
            <form class="col-12"
                  action="{{ path('inventory_deed_inventory_deed_create_add_product' , {deed_id:deedModel.inventoryDeedId , is_transfer:0}) }}"
                  method="post">
                <div class="panel">
                    <div class="panel-heading">
                        <strong>Save Product</strong>
                    </div>
                    <div class="panel-content">
                        <table class="table table-hover">
                            <thead>
                            <tr>
                                <th scope="col">Item</th>
                                <th scope="col">Supplier</th>
                                <th scope="col">Guarantee</th>
                                <th scope="col">Color</th>
                                <th scope="col">{{ (selectedItemModel.itemTypeId != 1)?'Quantity':'Serial' }}</th>
                                <th scope="col">Base price</th>
                                <th scope="col">Current price</th>
                                <th scope="col">Save</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>
                                    {{ selectedItemModel.itemName }}
                                </td>
                                <td>
                                    <select name="productSupplierId" class="form-control">
                                        {% for supplier in selectedItemModel.itemSuppliers %}
                                            <option value="{{ supplier.companyID }}">{{ supplier.companyName }}</option>
                                        {% endfor %}
                                    </select>
                                </td>
                                <td>
                                    <select name="productGuaranteeId" class="form-control">
                                        {% for guarantee in selectedItemModel.itemGuarantees %}
                                            <option value="{{ guarantee.guaranteeID }}">{{ guarantee.guaranteeName }}</option>
                                        {% endfor %}
                                    </select>
                                </td>
                                <td>
                                    <select name="productColorId" class="form-control">
                                        {% for color in selectedItemModel.itemColors %}
                                            <option value="{{ color.itemColorID }}">{{ color.itemColorName }}</option>
                                        {% endfor %}
                                    </select>
                                </td>
                                <td>
                                    {% if selectedItemModel.itemTypeId != 1 %}
                                        <input type="number" class="form-control" name="productQuantity"
                                               placeholder="Quantity">
                                    {% else %}
                                        <input type="number" class="form-control" name="productSerial"
                                               placeholder="Serial">
                                    {% endif %}
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="productBasePrice"
                                           placeholder="Base price">
                                </td>
                                <td>
                                    <input type="text" class="form-control" name="productCurrentPrice"
                                           placeholder="Current price">
                                    <input type="hidden" name="productTypeMachineName"
                                           value="{{ selectedItemModel.itemTypeMachineName }}">
                                    <input type="hidden" value="{{ selectedItemModel.itemID }}" name="productItemId">
                                </td>
                                <td>
                                    <button type="submit" class="btn btn-dark fa fa-save rounded"></button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </form>
        {% endif %}


        <div class="col-12">
            <div class="panel">
                <div class="panel-heading">
                    <strong>Products To Import</strong>
                </div>
                <div class="panel-content">
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th scope="col">Item</th>
                            <th scope="col">Supplier</th>
                            <th scope="col">Guarantee</th>
                            <th scope="col">Color</th>
                            <th></th>
                            <th scope="col">Quantity / Serial</th>
                            <th scope="col">Base price</th>
                            <th scope="col">Current price</th>
                            <th scope="col">Total price</th>
                            <th scope="col">remove</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for product in products %}
                            <tr>
                                <td>
                                    {{ product.productItemName }}
                                </td>
                                <td>
                                    {{ product.productSupplierName }}
                                </td>
                                <td>
                                    {{ product.productGuaranteeName }}
                                </td>
                                <td>
                                    {{ product.productColorName }}
                                </td>
                                <td>
                                    <span class="label rounded" style="background-color: {{ product.productColorHex }}">  </span>
                                </td>
                                <td>
                                    {{ product.productQuantity }} / {{ product.productSerial }}
                                </td>
                                <td>
                                    {{ product.productBasePrice }}
                                </td>
                                <td>
                                    {{ product.productCurrentPrice }}
                                </td>
                                <td>
                                    {{ product.productTotalPrice }}
                                </td>
                                <td>
                                    <a href="{{ path('inventory_deed_inventory_deed_create_remove_product' , {product_id:product.productId , deed_id:deedModel.inventoryDeedId , is_transfer:0}) }}"
                                       class="btn fa fa-times"></a>
                                </td>
                            </tr>
                        {% endfor %}
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td><strong>Total Count</strong></td>
                            <td>{{ deedModel.inventoryDeedTotalCount }}</td>
                            <td></td>
                            <td><strong>Total Price</strong></td>
                            <td>{{ deedModel.inventoryDeedTotalPrice }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="panel-content">
                    <div class="row">
                        <div class="col-12">
                            <div class="row">
                                <div class="col-8">
                                    <div class="form-group">
                                        <span class="label-text col-form-label text-md-right">Description</span>
                                        <textarea name="textarea" class="form-control"
                                                  placeholder="Text input area"></textarea>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="row">
                                        <div class="col-3"></div>
                                        <div class="col-3"></div>
                                        <div class="col-3">
                                            <button type="submit"
                                                    class="btn btn-dark fa fa-save rounded btn-block mt-5"></button>
                                        </div>
                                        <div class="col-3"></div>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
